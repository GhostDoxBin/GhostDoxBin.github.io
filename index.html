<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–∫–∞–∑ –ø—Ä–æ–µ–∫—Ç–∞ - Ghost Developer</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 100%;
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 25px;
            font-size: 24px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
            font-size: 16px;
        }

        input, select, textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px 30px;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .required::after {
            content: " *";
            color: #ff4757;
        }

        .success-message {
            text-align: center;
            padding: 40px 20px;
        }

        .success-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }

        .hidden {
            display: none;
        }

        .error {
            color: #ff4757;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="formSection">
            <h1>üöÄ –ó–∞–∫–∞–∑ –ø—Ä–æ–µ–∫—Ç–∞</h1>
            
            <form id="orderForm">
                <div class="form-group">
                    <label class="required">–í–∞—à–µ –∏–º—è:</label>
                    <input type="text" name="name" required placeholder="–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è?">
                    <div class="error" id="nameError">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è</div>
                </div>
                
                <div class="form-group">
                    <label class="required">–í–∞—à Telegram –¥–ª—è —Å–≤—è–∑–∏:</label>
                    <input type="text" name="telegram" required placeholder="@username –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞">
                    <div class="error" id="telegramError">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ Telegram –¥–ª—è —Å–≤—è–∑–∏</div>
                </div>
                
                <div class="form-group">
                    <label class="required">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:</label>
                    <select name="direction" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</option>
                        <option value="Android">Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</option>
                        <option value="Web">–í–µ–±-—Å–∞–π—Ç/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</option>
                        <option value="Windows">Windows –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</option>
                        <option value="iOS">iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</option>
                        <option value="FullStack">FullStack —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞</option>
                    </select>
                    <div class="error" id="directionError">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
                </div>
                
                <div class="form-group">
                    <label class="required">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –∫—Ä–∞—Ç–∫–æ:</label>
                    <textarea name="tech_task" required placeholder="–û–ø–∏—à–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é –∏–¥–µ—é –ø—Ä–æ–µ–∫—Ç–∞..."></textarea>
                    <div class="error" id="techTaskError">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–ø–∏—à–∏—Ç–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ</div>
                </div>
                
                <div class="form-group">
                    <label class="required">–í–∞—à –±—é–¥–∂–µ—Ç:</label>
                    <input type="text" name="budget" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 10,000 - 15,000 —Ä—É–±.">
                    <div class="error" id="budgetError">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –±—é–¥–∂–µ—Ç</div>
                </div>
                
                <div class="form-group">
                    <label class="required">–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</label>
                    <textarea name="required_features" required placeholder="–§—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–µ–∫—Ç –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞..."></textarea>
                    <div class="error" id="requiredFeaturesError">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</div>
                </div>
                
                <div class="form-group">
                    <label>–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</label>
                    <textarea name="optional_features" placeholder="–§—É–Ω–∫—Ü–∏–∏ –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –±—ã nice to have..."></textarea>
                </div>
                
                <div class="form-group">
                    <label class="required">–î–ª—è –∫–∞–∫–æ–π —Ü–µ–ª–∏:</label>
                    <select name="purpose" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª—å</option>
                        <option value="–ë–∏–∑–Ω–µ—Å">–ë–∏–∑–Ω–µ—Å</option>
                        <option value="–õ–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ">–õ–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</option>
                        <option value="–°—Ç–∞—Ä—Ç–∞–ø">–°—Ç–∞—Ä—Ç–∞–ø</option>
                        <option value="–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ</option>
                        <option value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
                    </select>
                    <div class="error" id="purposeError">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞</div>
                </div>
                
                <div class="form-group">
                    <label>–°—Å—ã–ª–∫–∏ –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª—ã:</label>
                    <input type="url" name="references" placeholder="https://figma.com/... –∏–ª–∏ https://drive.google.com/...">
                </div>
                
                <div class="form-group">
                    <label class="required">–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:</label>
                    <textarea name="full_description" required placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç, –≤–∞—à–∏ –æ–∂–∏–¥–∞–Ω–∏—è –∏ –ª—é–±—ã–µ –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏..."></textarea>
                    <div class="error" id="fullDescriptionError">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</div>
                </div>
                
                <button type="submit" class="btn">üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
            </form>
        </div>

        <div id="successSection" class="hidden">
            <div class="success-message">
                <div class="success-icon">‚úÖ</div>
                <h2>–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!</h2>
                <p>–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –∑–∞–∫–∞–∑! –Ø —Å–≤—è–∂—É—Å—å —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π.</p>
                <button type="button" class="btn" onclick="Telegram.WebApp.close()">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();

        const form = document.getElementById('orderForm');
        const formSection = document.getElementById('formSection');
        const successSection = document.getElementById('successSection');

        // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
        function validateField(field, errorElement) {
            if (!field.value.trim()) {
                errorElement.style.display = 'block';
                field.style.borderColor = '#ff4757';
                return false;
            } else {
                errorElement.style.display = 'none';
                field.style.borderColor = '#e1e5e9';
                return true;
            }
        }

        // –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª–µ–π
        function validateForm() {
            let isValid = true;
            
            const fields = {
                name: document.getElementById('nameError'),
                telegram: document.getElementById('telegramError'),
                direction: document.getElementById('directionError'),
                tech_task: document.getElementById('techTaskError'),
                budget: document.getElementById('budgetError'),
                required_features: document.getElementById('requiredFeaturesError'),
                purpose: document.getElementById('purposeError'),
                full_description: document.getElementById('fullDescriptionError')
            };

            for (const [fieldName, errorElement] of Object.entries(fields)) {
                const field = form.elements[fieldName];
                if (!validateField(field, errorElement)) {
                    isValid = false;
                }
            }

            return isValid;
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!validateForm()) {
                // –í–∏–±—Ä–æ–æ—Ç–∫–ª–∏–∫ –ø—Ä–∏ –æ—à–∏–±–∫–µ
                Telegram.WebApp.HapticFeedback.notificationOccurred('error');
                return;
            }

            const formData = new FormData(form);
            const data = Object.fromEntries(formData);

            // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ Telegram
            const tgUser = Telegram.WebApp.initDataUnsafe.user;
            if (tgUser) {
                data.user_id = tgUser.id;
                data.username = tgUser.username;
                data.first_name = tgUser.first_name;
            }

            // –í–∏–±—Ä–æ–æ—Ç–∫–ª–∏–∫ –ø—Ä–∏ —É—Å–ø–µ—Ö–µ
            Telegram.WebApp.HapticFeedback.impactOccurred('medium');

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç–∞
            Telegram.WebApp.sendData(JSON.stringify(data));

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—à–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            formSection.classList.add('hidden');
            successSection.classList.remove('hidden');

            // –ó–∞–∫—Ä—ã–≤–∞–µ–º Web App —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                Telegram.WebApp.close();
            }, 3000);
        });

        // –†–µ–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –≤–≤–æ–¥–µ
        const inputs = form.querySelectorAll('input, select, textarea');
        inputs.forEach(input => {
            input.addEventListener('blur', function() {
                const errorId = this.name + 'Error';
                const errorElement = document.getElementById(errorId);
                if (errorElement) {
                    validateField(this, errorElement);
                }
            });

            input.addEventListener('input', function() {
                const errorId = this.name + 'Error';
                const errorElement = document.getElementById(errorId);
                if (errorElement && errorElement.style.display !== 'none') {
                    validateField(this, errorElement);
                }
            });
        });
    </script>
</body>
</html>
